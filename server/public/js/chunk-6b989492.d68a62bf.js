(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6b989492"],{"04b8":function(e,t,n){},"0a05":function(e,t,n){},"0a49":function(e,t,n){var l=n("9b43"),a=n("626a"),o=n("4bf8"),i=n("9def"),r=n("cd1c");e.exports=function(e,t){var n=1==e,s=2==e,c=3==e,u=4==e,d=6==e,p=5==e||d,v=t||r;return function(t,r,f){for(var m,b,h=o(t),y=a(h),g=l(r,f,3),x=i(y.length),_=0,w=n?v(t,x):s?v(t,0):void 0;x>_;_++)if((p||_ in y)&&(m=y[_],b=g(m,_,h),e))if(n)w[_]=b;else if(b)switch(e){case 3:return!0;case 5:return m;case 6:return _;case 2:w.push(m)}else if(u)return!1;return d?-1:c||u?u:w}}},1169:function(e,t,n){var l=n("2d95");e.exports=Array.isArray||function(e){return"Array"==l(e)}},"198e":function(e,t,n){"use strict";var l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Screen",{attrs:{target:e.target}},[n("div",{ref:"editor",staticClass:"editor",attrs:{id:"main",zoom:e.zoom},on:{drop:e.dropHandler,dragover:e.dragoverHandler,"!mousedown":function(t){return e.mouseDownHandler(t)}}},e._l(e.compList,function(e,t){return n("editor-el",{key:t,attrs:{elem:e}})}),1)])},a=[],o=n("34b0"),i=n("0749");function r(e,t){return document.elementsFromPoint?document.elementsFromPoint(e,t):s(e,t)}function s(e,t){var n=[],l=void 0;do{l!==document.elementFromPoint(e,t)?(l=document.elementFromPoint(e,t),n.push(l),l.style.pointerEvents="none"):l=!1}while(l);return n.forEach(function(e){return e.style.pointerEvents="all"}),n}var c,u,d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"screen"},[n("el-row",[n("el-col",{attrs:{span:6}},[n("el-switch",{attrs:{"active-text":"竖屏","inactive-text":"横屏"},model:{value:e.screenTo,callback:function(t){e.screenTo=t},expression:"screenTo"}})],1),n("el-col",{attrs:{span:6}},[n("el-input-number",{attrs:{precision:2,step:.1,max:1.5,min:.1},model:{value:e.zoom,callback:function(t){e.zoom=t},expression:"zoom"}})],1),n("el-col",{attrs:{span:12}},[n("el-button-group",[n("el-button",{on:{click:e.save}},[e._v("save")]),n("el-upload",{staticStyle:{display:"inline-block"},attrs:{action:"","on-change":e.change,"before-upload":e.beforeUpload,"show-file-list":!1}},[n("el-button",{on:{click:e.importJSON}},[e._v("importJSON")])],1),n("el-button",{on:{click:e.exportJSON}},[e._v("exportJSON")]),n("el-button",{on:{click:e.exportZip}},[e._v("exportZip")])],1)],1),n("el-col",{attrs:{span:6}},[n("el-input",{model:{value:e.width,callback:function(t){e.width=t},expression:"width"}},[n("template",{slot:"prepend"},[e._v("\n          宽度\n        ")])],2)],1),n("el-col",{attrs:{span:6}},[n("el-input",{model:{value:e.height,callback:function(t){e.height=t},expression:"height"}},[n("template",{slot:"prepend"},[e._v("\n          长度\n        ")])],2)],1),e.target.show?n("el-col",{attrs:{span:12}},[n("el-input",{model:{value:e.target.alias,callback:function(t){e.$set(e.target,"alias",t)},expression:"target.alias"}},[n("template",{slot:"prepend"},[e._v("\n          组件名称\n        ")])],2)],1):e._e()],1),n("div",{staticClass:"screenBack"},[n("div",{staticClass:"screenStyle",style:e.screenStyle},[e._t("default")],2)])],1)},p=[],v=n("cebc"),f=n("d225"),m=n("b0b4"),b=n("308d"),h=n("6bb5"),y=n("4e2b"),g=function(e){function t(){var e;return Object(f["a"])(this,t),e=Object(b["a"])(this,Object(h["a"])(t).call(this,"screenComp")),e.zoom=1,e}return Object(y["a"])(t,e),Object(m["a"])(t,[{key:"init",value:function(){console.log("Screen init")}}]),t}(o["DataHandle"]),x=new g,_=new o["Handle"]({name:"screenComp",created:function(){x.init(),console.log("screen created")},mounted:function(){console.log("screen mounted")},setZoom:function(e){x.zoom=e}}),w=_,k={name:"Screen",data:function(){return{screen:x,screenTo:!0,zoom:1,fileList:[],url:"",width:900,height:600}},props:["target"],computed:{screenStyle:function(){return Object(v["a"])({},this.screenTo?{width:this.height+"px",height:this.width+"px"}:{width:this.width+"px",height:this.height+"px"},{transform:"scale(".concat(this.zoom,")")})}},created:function(){w.created()},mounted:function(){w.mounted()},methods:{beforeUpload:function(){return!1},change:function(e){var t=[],n=this;try{var l=new FileReader;l.readAsText(e.raw),l.onload=function(){t=JSON.parse(this.result),n.target.importJSON(t),console.log(t)}}catch(a){console.error(a)}},handlePreview:function(e){console.log(e)},save:function(){this.target.save()},exportZip:function(){this.target.exportZip()},exportJSON:function(){this.target.exportJSON()},importJSON:function(){}},watch:{zoom:function(e){w.setZoom(e)}}},C=k,O=(n("bd66"),n("2877")),j=Object(O["a"])(C,d,p,!1,null,"249efe1d",null),$=j.exports,S=(n("20d6"),n("5d73")),A=n.n(S),D=n("2d1f"),E=n.n(D),H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"coverEl",on:{mousedown:function(t){return t.preventDefault(),function(t){return e.$emit("activated",t)}(t)}}},[n("div",{staticClass:"coverEl-bg"}),e._t("default")],2)},T=[],N=function(e){function t(){return Object(f["a"])(this,t),Object(b["a"])(this,Object(h["a"])(t).call(this,"coverElComp"))}return Object(y["a"])(t,e),Object(m["a"])(t,[{key:"init",value:function(){console.log("CoverEl init")}}]),t}(o["DataHandle"]),P=new N,L=new o["Handle"]({name:"coverElComp",created:function(){P.init(),console.log("coverEl created")},mounted:function(){console.log("coverEl mounted")}}),z=L,J={name:"CoverEl",data:function(){return{coverEl:P}},created:function(){z.created()},mounted:function(){z.mounted()}},R=J,M=(n("bb28"),Object(O["a"])(R,H,T,!1,null,"31a2c354",null)),I=M.exports,U=(E.a,{name:"editor-el",data:function(){return{components:i["a"]}},props:["elem","isChild"],render:function(e){var t,n=this.elem,l={style:n.style,attrs:{id:n.id}},a=[];if(n.children){var o=!0,i=!1,r=void 0;try{for(var s,c=A()(n.children);!(o=(s=c.next()).done);o=!0){var u=s.value;a.push(e(Y,{props:{elem:u,isChild:!0}},[]))}}catch(d){i=!0,r=d}finally{try{o||null==c.return||c.return()}finally{if(i)throw r}}}return t=this.isChild?e(n.type,Object(v["a"])({},l,{props:{rawData:n.raw}}),a):e(I,Object(v["a"])({},l,{class:{active:this.isActive},on:{activated:this.activatedHandler}}),[e(n.type,{props:{rawData:n.raw}},a)]),t},computed:{isActive:function(){var e=this;return-1!==this.components.active.findIndex(function(t){return t.id===e.elem.id})},rawData:function(){return this.elem?this.elem.raw:{}}},methods:{activatedHandler:function(e){i["b"].setActive(this.elem),e.stopPropagation(),e.preventDefault()}}}),F=U,X=(n("9c35"),Object(O["a"])(F,c,u,!1,null,"fb67792e",null)),Y=X.exports,Z=function(e){function t(){return Object(f["a"])(this,t),Object(b["a"])(this,Object(h["a"])(t).call(this,"editorComp"))}return Object(y["a"])(t,e),Object(m["a"])(t,[{key:"init",value:function(){console.log("Editor init")}}]),t}(o["DataHandle"]),B=new Z,W=new o["Handle"]({name:"editorComp",created:function(){B.init(),console.log("editor created")},mounted:function(){console.log("editor mounted")}}),K=W;function V(e){var t=e.offsetTop,n=e.offsetLeft;while(e=e.offsetParent)t+=e.offsetTop,n+=e.offsetLeft;return{offsetTop:t,offsetLeft:n}}var q={name:"Editor",data:function(){return{editor:B,components:i["a"],zoom:1,initialAbsPos:{x:0,y:0},initialRelPos:{x:0,y:0},currentAbsPos:{x:0,y:0},currentRelPos:{x:0,y:0},activeMove:null}},props:["target"],computed:{compList:function(){return this.components.list},active:function(){return this.components.active[0]||null}},created:function(){K.created()},mounted:function(){K.mounted()},methods:{dragoverHandler:function(e){e.preventDefault()},dropHandler:function(e){var t=o["rgData"].screenComp.zoom,n=JSON.parse(e.dataTransfer.getData("text/plain")),l=i["a"].register(n),a=document.getElementById("main"),r=l.stylePure&&l.stylePure.height||"auto",s=l.stylePure&&l.stylePure.width||"auto",c=V(a),u=c.offsetTop,d=c.offsetLeft,p=e.pageY+a.scrollTop-a.offsetTop-this.$el.offsetTop-u,v=e.pageX+a.scrollLeft-a.offsetLeft-this.$el.offsetLeft-d;"number"==typeof r&&(p-=r/2),"number"==typeof r&&(v-=s/2),p=Math.round(p/t),v=Math.round(v/t),l.saveStyle({position:"absolute",top:p,left:v,height:r,width:s}),e.preventDefault()},getMouseAbsPoint:function(e){return{x:e.clientX,y:e.clientY}},getMouseRelPoint:function(e){var t=document.getElementById("main"),n=V(t),l=n.offsetTop,a=n.offsetLeft,o=e.clientX+t.scrollLeft-t.offsetLeft-this.$el.offsetLeft-l,i=e.clientY+t.scrollTop-t.offsetTop-this.$el.offsetTop-a;return{x:o,y:i}},mouseDownHandler:function(e){var t=this,n=!1;this.initialAbsPos=this.currentAbsPos=this.getMouseAbsPoint(e),this.initialRelPos=this.currentRelPos=this.getMouseRelPoint(e);var l=r(e.clientX,e.clientY);if(console.log(l),"main"!=l[0].id){if(this.activeMove=this.active,this.active&&(n=!0,e.ctrlKey)){var a=i["a"].register({style:this.active.style,raw:this.active.raw,type:this.active.type,childrenName:this.active.childrenName,children:this.active.children});a.saveStyle({top:this.active.stylePure.top+20,left:this.active.stylePure.left+20}),o["rgHandle"].componentsClass.setActive(a),this.activeMove=a}n&&this.$nextTick(function(){document.documentElement.addEventListener("mousemove",t.mouseMoveHandler,!0),document.documentElement.addEventListener("mouseup",t.mouseUpHandler,!0)})}else this.components.active=[]},mouseMoveHandler:function(e){var t=o["rgData"].screenComp.zoom,n=this.currentAbsPos.x,l=this.currentAbsPos.y;this.currentAbsPos=this.getMouseAbsPoint(e),this.currentRelPos=this.getMouseRelPoint(e);var a=this.currentAbsPos.x-n,i=this.currentAbsPos.y-l;this.active&&(e.ctrlKey||this.active.move(a/t,i/t))},mouseUpHandler:function(e){document.documentElement.removeEventListener("mousemove",this.mouseMoveHandler,!0),document.documentElement.removeEventListener("mouseup",this.mouseUpHandler,!0)}},components:{EditorEl:Y,Screen:$}},G=q,Q=(n("a5c7"),Object(O["a"])(G,l,a,!1,null,"5d8434cc",null));t["a"]=Q.exports},"20d6":function(e,t,n){"use strict";var l=n("5ca1"),a=n("0a49")(6),o="findIndex",i=!0;o in[]&&Array(1)[o](function(){i=!1}),l(l.P+l.F*i,"Array",{findIndex:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(o)},"23b5":function(e,t,n){},"32db":function(e,t,n){"use strict";var l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"normal"},[n("el-row",e._l(e.normal.list,function(e,t){return n("el-col",{key:"normal"+t,attrs:{span:24}},[n("DragCol",{attrs:{item:e}})],1)}),1)],1)},a=[],o=n("cebc"),i=n("bef1"),r=n("6586"),s={name:"Normal",data:function(){return{normal:r["b"]}},created:function(){r["a"].created()},mounted:function(){r["a"].mounted()},components:Object(o["a"])({},r["b"].comps,{DragCol:i["a"]})},c=s,u=n("2877"),d=Object(u["a"])(c,l,a,!1,null,"3a71b3f8",null);t["a"]=d.exports},"41f1":function(e,t,n){"use strict";var l=n("5f3c"),a=n.n(l);a.a},4947:function(e,t,n){},"5f3c":function(e,t,n){},"7d05":function(e,t,n){"use strict";var l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"arrangeList"},[n("el-input",{model:{value:e.name,callback:function(t){e.name=t},expression:"name"}},[n("template",{slot:"prepend"},[e._v("\n      组件名称\n    ")]),n("template",{slot:"append"},[n("el-button",{on:{click:e.addArrange}},[e._v("修改组件")])],1)],2),n("el-col",[e._v("当前子组件: "+e._s(e.childrenName)+" "),n("el-button",{on:{click:e.refreshChild}},[e._v("刷新子组件")]),n("el-button",{on:{click:e.clearChild}},[e._v("清理")])],1),n("el-col",[n("el-input",{model:{value:e.filterName,callback:function(t){e.filterName=t},expression:"filterName"}},[n("template",{slot:"prepend"},[e._v("\n      筛选\n    ")]),n("template",{slot:"append"},[n("span",{on:{click:e.refresh}},[e._v("刷新组件")])])],2)],1),e._l(e.filterList,function(t,l){return n("div",{key:l},[n("el-button-group",[n("el-button",{on:{click:function(n){return e.saveChildren(t)}}},[e._v(e._s(t.name))]),n("el-button",{on:{click:function(n){return e.editorArrange(t)}}},[e._v("修改")])],1)],1)})],2)},a=[],o=(n("7f7f"),n("ac6a"),n("d225")),i=n("b0b4"),r=n("308d"),s=n("6bb5"),c=n("4e2b"),u=n("2d1f"),d=n.n(u),p=n("34b0"),v=(d.a,function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(r["a"])(this,Object(s["a"])(t).call(this,"arrangeListComp")),e.list=[],e}return Object(c["a"])(t,e),Object(i["a"])(t,[{key:"init",value:function(){console.log("ArrangeList init"),this.get()}},{key:"get",value:function(){var e=this;Object(p["httplink"])("getArrangeList","/components/getArrangeList",{},"post").then(function(t){e.list=[],t.res.forEach(function(t){var n=JSON.parse(t.list),l=p["rgData"].componentsClass.resetToComponents(n);e.list.push({alias:t.alias,name:t.id,value:l})})})}}]),t}(p["DataHandle"])),f=new v,m=new p["Handle"]({name:"arrangeListComp",created:function(){console.log("arrangeList created")},mounted:function(){f.init(),console.log("arrangeList mounted")}}),b=m,h=n("0749"),y={name:"ArrangeList",data:function(){return{components:h["a"],arrangeList:f,name:"",filterName:""}},computed:{active:function(){return this.components.active[0]||null},childrenName:function(){return this.active?this.active.childrenName:""},filterList:function(){var e=this;return this.arrangeList.list.filter(function(t){return t.name.indexOf(e.filterName)>-1})}},created:function(){b.created()},mounted:function(){b.mounted()},methods:{saveChildren:function(e){this.active&&this.active.saveChildren(e.name)},refreshChild:function(){this.active&&this.active.getChildFromServer()},refresh:function(){f.get()},clearChild:function(){this.active&&(this.active.childrenName="",this.active.children=[])},addArrange:function(){if(""!=this.name){var e=this.$router.resolve({path:"/Arrange/arr".concat(this.name)});window.open(e.href,"_blank")}},editorArrange:function(e){if(""!=e.name){var t=this.$router.resolve({path:"/Arrange/".concat(e.name)});window.open(t.href,"_blank")}}}},g=y,x=n("2877"),_=Object(x["a"])(g,l,a,!1,null,null,null);t["a"]=_.exports},9395:function(e,t,n){"use strict";var l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"styleControl"},[n("el-row",[n("el-collapse",{directives:[{name:"show",rawName:"v-show",value:e.active,expression:"active"}],attrs:{accordion:""}},[n("el-collapse-item",{attrs:{title:"basic css"}},[n("el-input",{model:{value:e.style.height,callback:function(t){e.$set(e.style,"height",t)},expression:"style.height"}},[n("template",{slot:"prepend"},[e._v("height")])],2),n("el-input",{model:{value:e.style.width,callback:function(t){e.$set(e.style,"width",t)},expression:"style.width"}},[n("template",{slot:"prepend"},[e._v("width")])],2),n("el-input",{model:{value:e.style.left,callback:function(t){e.$set(e.style,"left",t)},expression:"style.left"}},[n("template",{slot:"prepend"},[e._v("left")])],2),n("el-input",{model:{value:e.style.right,callback:function(t){e.$set(e.style,"right",t)},expression:"style.right"}},[n("template",{slot:"prepend"},[e._v("right")])],2),n("el-input",{model:{value:e.style.top,callback:function(t){e.$set(e.style,"top",t)},expression:"style.top"}},[n("template",{slot:"prepend"},[e._v("top")])],2),n("el-input",{model:{value:e.style.bottom,callback:function(t){e.$set(e.style,"bottom",t)},expression:"style.bottom"}},[n("template",{slot:"prepend"},[e._v("bottom")])],2),n("el-input",{model:{value:e.style.zIndex,callback:function(t){e.$set(e.style,"zIndex",t)},expression:"style.zIndex"}},[n("template",{slot:"prepend"},[e._v("zIndex")])],2),n("el-select",{attrs:{placeholder:"display"},model:{value:e.style.display,callback:function(t){e.$set(e.style,"display",t)},expression:"style.display"}},[n("template",{slot:"prefix"},[e._v("display")]),e._l(e.displayoptions,function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})],2),n("el-select",{attrs:{placeholder:"position"},model:{value:e.style.position,callback:function(t){e.$set(e.style,"position",t)},expression:"style.position"}},[n("template",{slot:"prefix"},[e._v("position")]),e._l(e.positionoptions,function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})],2),n("el-select",{attrs:{placeholder:"position"},model:{value:e.style.overflowX,callback:function(t){e.$set(e.style,"overflowX",t)},expression:"style.overflowX"}},[n("template",{slot:"prefix"},[e._v("overflow-x")]),e._l(e.overflowoptions,function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})],2),n("el-select",{attrs:{placeholder:"position"},model:{value:e.style.overflowY,callback:function(t){e.$set(e.style,"overflowY",t)},expression:"style.overflowY"}},[n("template",{slot:"prefix"},[e._v("overflow-y")]),e._l(e.overflowoptions,function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})],2),n("el-select",{attrs:{placeholder:"position"},model:{value:e.style.boxSizing,callback:function(t){e.$set(e.style,"boxSizing",t)},expression:"style.boxSizing"}},[n("template",{slot:"prefix"},[e._v("box-sizing")]),e._l(e.boxSizingoptions,function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})],2),n("el-select",{attrs:{placeholder:"position"},model:{value:e.style.verticalAlign,callback:function(t){e.$set(e.style,"verticalAlign",t)},expression:"style.verticalAlign"}},[n("template",{slot:"prefix"},[e._v("vertical-align")]),e._l(e.verticalAlignoptions,function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})],2),n("el-select",{attrs:{placeholder:"position"},model:{value:e.style.textAlign,callback:function(t){e.$set(e.style,"textAlign",t)},expression:"style.textAlign"}},[n("template",{slot:"prefix"},[e._v("text-align")]),e._l(e.textAlignoptions,function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})],2),n("el-col",[e._v("backgroundColor: "),n("el-color-picker",{model:{value:e.style.backgroundColor,callback:function(t){e.$set(e.style,"backgroundColor",t)},expression:"style.backgroundColor"}})],1)],1),n("el-collapse-item",{attrs:{title:"font"}},[n("el-col",[e._v("color: "),n("el-color-picker",{model:{value:e.style.color,callback:function(t){e.$set(e.style,"color",t)},expression:"style.color"}})],1),n("el-input",{model:{value:e.style.lineHeight,callback:function(t){e.$set(e.style,"lineHeight",t)},expression:"style.lineHeight"}},[n("template",{slot:"prepend"},[e._v("lineHeight")])],2),n("el-input",{model:{value:e.style.fontSize,callback:function(t){e.$set(e.style,"fontSize",t)},expression:"style.fontSize"}},[n("template",{slot:"prepend"},[e._v("fontSize")])],2),n("el-input",{model:{value:e.style.fontWeight,callback:function(t){e.$set(e.style,"fontWeight",t)},expression:"style.fontWeight"}},[n("template",{slot:"prepend"},[e._v("fontWeight")])],2),e._l(e.directionoptions,function(t,l){return n("el-col",{key:"margin"+l},[n("el-input",{model:{value:e.style["margin-"+t.label],callback:function(n){e.$set(e.style,"margin-"+t.label,n)},expression:"style[`margin-${item.label}`]"}},[n("template",{slot:"prepend"},[e._v("margin-"+e._s(t.label)+":")])],2)],1)}),e._l(e.directionoptions,function(t,l){return n("el-col",{key:"padding"+l},[n("el-input",{model:{value:e.style["padding-"+t.label],callback:function(n){e.$set(e.style,"padding-"+t.label,n)},expression:"style[`padding-${item.label}`]"}},[n("template",{slot:"prepend"},[e._v("padding-"+e._s(t.label)+":")])],2)],1)})],2),n("el-collapse-item",{attrs:{title:"Border"}},[e._l(e.border,function(t,l){return n("el-col",{key:"border"+l},[e._v("\n          border-"+e._s(t.name)+"\n          "),n("el-input",{model:{value:t.width,callback:function(n){e.$set(t,"width",n)},expression:"item.width"}},[n("template",{slot:"prepend"},[e._v("width:")])],2),n("el-col",[e._v("color: "),n("el-color-picker",{model:{value:t.color,callback:function(n){e.$set(t,"color",n)},expression:"item.color"}})],1),n("el-select",{attrs:{placeholder:"position"},model:{value:t.style,callback:function(n){e.$set(t,"style",n)},expression:"item.style"}},[n("template",{slot:"prefix"},[e._v("style:")]),e._l(e.borderStyleOptions,function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})],2)],1)}),e._l(e.borderRadius,function(t,l){return n("el-col",{key:"borderRadius"+l},[e._v("\n          border-"+e._s(t.name)+"-radius:\n          "),n("el-input",{model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"item.value"}},[n("template",{slot:"prepend"})],2)],1)})],2),n("el-collapse-item",{directives:[{name:"show",rawName:"v-show",value:"{}"!=JSON.stringify(e.rawData),expression:'JSON.stringify(rawData)!="{}"'}],attrs:{title:"raw"}},[n("RawControl",{attrs:{target:e.active}})],1)],1)],1)],1)},a=[],o=(n("7f7f"),n("cebc")),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"rawControl"},e._l(e.raw,function(t,l){return n("el-row",{key:l},["string"==t.type?[n("el-input",{on:{input:e.save},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"item.value"}},[n("template",{slot:"prepend"},[e._v(e._s(t.name))])],2)]:"number"==t.type?[n("el-input-number",{attrs:{label:t.name},on:{change:e.save},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"item.value"}})]:"boolean"==t.type?[n("el-checkbox",{on:{change:e.save},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"item.value"}},[e._v(e._s(t.name))])]:"object"==t.type?["array"==t.valueType?[n("el-select",{attrs:{placeholder:t.name},on:{change:e.save},model:{value:t.value.value,callback:function(n){e.$set(t.value,"value",n)},expression:"item.value.value"}},e._l(t.value.options,function(e){return n("el-option",{key:e,attrs:{label:e,value:e}})}),1)]:e._e(),"color"==t.valueType?[n("el-col",[e._v(e._s(t.name)+": "),n("el-color-picker",{on:{change:e.save},model:{value:t.value.value,callback:function(n){e.$set(t.value,"value",n)},expression:"item.value.value"}})],1)]:e._e(),"table"==t.valueType?[e._v("\n        col: \n        "),e._l(t.value.col,function(l,a){return n("el-row",{key:"tableCol"+a},[n("el-input",{on:{input:e.save},model:{value:l.prop,callback:function(t){e.$set(l,"prop",t)},expression:"target.prop"}},[n("template",{slot:"prepend"},[e._v("prop")])],2),n("el-input",{on:{input:e.save},model:{value:l.label,callback:function(t){e.$set(l,"label",t)},expression:"target.label"}},[n("template",{slot:"prepend"},[e._v("label")])],2),n("el-input",{on:{input:e.save},model:{value:l.width,callback:function(t){e.$set(l,"width",t)},expression:"target.width"}},[n("template",{slot:"prepend"},[e._v("width")])],2),0==a?n("el-button",{on:{click:function(e){return t.addCol()}}},[e._v("add")]):e._e(),0!=a?n("el-button",{on:{click:function(e){return t.delCol(a)}}},[e._v("del")]):e._e()],1)}),e._v("\n        data: \n        "),e._l(t.value.data,function(l,a){return n("el-row",{key:"tableData"+a},[e._l(t.value.col,function(t,a){return n("div",{key:"tableDataCol"+a},[n("el-input",{on:{input:e.save},model:{value:l[t.prop],callback:function(n){e.$set(l,t.prop,n)},expression:"dataTarget[target.prop]"}},[n("template",{slot:"prepend"},[e._v(e._s(t.prop))])],2)],1)}),0==a?n("el-button",{on:{click:function(e){return t.addData()}}},[e._v("add")]):e._e(),0!=a?n("el-button",{on:{click:function(e){return t.delData(a)}}},[e._v("del")]):e._e()],2)})]:e._e(),"image"==t.valueType?[n("el-col",[n("el-input",{attrs:{disabled:""},on:{input:e.save},model:{value:t.value.value,callback:function(n){e.$set(t.value,"value",n)},expression:"item.value.value"}},[n("template",{slot:"prepend"},[e._v(e._s(t.name))]),n("template",{slot:"append"},[n("Upload",{on:{uploadChange:function(n){t.value.value=e.document.location.protocol+"//"+e.location.host+n.url,e.save()}},model:{value:t.value.value,callback:function(n){e.$set(t.value,"value",n)},expression:"item.value.value"}})],1)],2)],1)]:e._e()]:"array"==t.type?[e._v("\n      "+e._s(t.name)+":\n      "),e._l(t.value,function(l,a){return n("el-row",{key:"target"+a},["undefined"!=typeof l.name?[n("el-input",{on:{input:e.save},model:{value:l.name,callback:function(t){e.$set(l,"name",t)},expression:"target.name"}},[n("template",{slot:"prepend"},[e._v("name")])],2)]:e._e(),n("el-input",{on:{input:e.save},model:{value:l.value,callback:function(t){e.$set(l,"value",t)},expression:"target.value"}},[n("template",{slot:"prepend"},[e._v("value")])],2),0==a?n("el-button",{on:{click:function(e){return t.add()}}},[e._v("add")]):e._e(),0!=a?n("el-button",{on:{click:function(e){return t.del(a)}}},[e._v("del")]):e._e()],2)})]:e._e()],2)}),1)},r=[],s=(n("ac6a"),n("f499")),c=n.n(s),u=n("768b"),d=n("5d73"),p=n.n(d),v=n("d225"),f=n("b0b4"),m=n("308d"),b=n("6bb5"),h=n("4e2b"),y=n("2d1f"),g=n.n(y),x=n("34b0"),_=g.a,w=function(e){function t(){return Object(v["a"])(this,t),Object(m["a"])(this,Object(b["a"])(t).call(this,"rawControlComp"))}return Object(h["a"])(t,e),Object(f["a"])(t,[{key:"init",value:function(){console.log("RawControl init")}}]),t}(x["DataHandle"]),k=new w,C=new x["Handle"]({name:"rawControlComp",created:function(){k.init(),console.log("rawControl created")},mounted:function(){console.log("rawControl mounted")},getData:function(e){var t=[],n=!0,l=!1,a=void 0;try{for(var o,i=p()(_(e));!(n=(o=i.next()).done);n=!0){var r=Object(u["a"])(o.value,2),s=r[0],d=r[1];if(d instanceof Array){var v={value:"",type:"string"},f=d.reduce(function(e,t){return"string"==typeof t?(e.push({value:t,type:"string"}),v={value:"",type:"string"}):"number"==typeof t?(e.push({value:t,type:"number"}),v={value:"",type:"number"}):"boolean"==typeof t?(e.push({value:t,type:"boolean"}),v={value:"",type:"boolean"}):t instanceof Object&&(e.push({value:t.value,name:t.name,type:"object"}),v={value:"",name:"",type:"object"}),e},[]);t.push({name:s,value:f,type:"array",addObj:v,add:function(){this.value.push(this.addObj)},del:function(e){this.value.splice(e,1)}})}else"string"==typeof d?t.push({name:s,value:d,type:"string"}):"number"==typeof d?t.push({name:s,value:d,type:"number"}):"boolean"==typeof d?t.push({name:s,value:d,type:"boolean"}):d instanceof Object&&("array"==d.type?t.push({name:s,value:JSON.parse(c()(d)),type:"object",valueType:"array"}):"color"==d.type?t.push({name:s,value:JSON.parse(c()(d)),type:"object",valueType:"color"}):"image"==d.type?t.push({name:s,value:JSON.parse(c()(d)),type:"object",valueType:"image"}):"table"==d.type&&t.push({name:s,value:JSON.parse(c()(d)),type:"object",valueType:"table",addObj:{prop:"prop",label:"label",width:"120"},addCol:function(){this.value.col.push(this.addObj)},delCol:function(e){this.value.col.splice(e,1)},addData:function(){var e={};this.value.col.forEach(function(t){e[t.prop]=t.label}),this.value.data.push(e)},delData:function(e){this.value.data.splice(e,1)}}))}}catch(m){l=!0,a=m}finally{try{n||null==i.return||i.return()}finally{if(l)throw a}}return t},getRaw:function(e){return e.reduce(function(e,t){return"array"==t.type&&(t.value=t.value.reduce(function(e,t){return"object"==t.type?e.push({name:t.name,value:t.value}):e.push(t.value),e},[])),e[t.name]=t.value,e},{})}}),O=C,j=n("a966"),$={name:"RawControl",data:function(){return{rawControl:k,raw:[]}},props:["target"],computed:{rawData:function(){return this.target?this.target.raw:{}}},created:function(){O.created()},mounted:function(){O.mounted()},methods:{save:function(){this.target.saveRaw(O.getRaw(this.raw))},getTargetValues:function(e){return O.getData(e)},add:function(e){e.push({name:"",value:""}),this.save()},del:function(e,t){e.splice(t,1),this.save()}},watch:{rawData:function(e){this.raw=O.getData(e)}},components:{Upload:j["a"]}},S=$,A=n("2877"),D=Object(A["a"])(S,i,r,!1,null,null,null),E=D.exports,H=n("0749"),T=function(e){function t(){return Object(v["a"])(this,t),Object(m["a"])(this,Object(b["a"])(t).call(this,"styleControlComp"))}return Object(h["a"])(t,e),Object(f["a"])(t,[{key:"init",value:function(){console.log("StyleControl init")}}]),t}(x["DataHandle"]),N=new T,P=new x["Handle"]({name:"styleControlComp",created:function(){N.init(),console.log("styleControl created")},mounted:function(){console.log("styleControl mounted")}}),L=P,z={name:"StyleControl",data:function(){return{styleControl:N,components:H["a"],displayoptions:[{value:"inline-block",label:"inline-block"},{value:"inline",label:"inline"},{value:"block",label:"block"},{value:"initial",label:"initial"}],textAlignoptions:[{value:"left",label:"left"},{value:"right",label:"right"},{value:"center",label:"center"},{value:"unset",label:"unset"}],positionoptions:[{value:"relative",label:"relative"},{value:"absolute",label:"absolute"}],overflowoptions:[{value:"auto",label:"auto"},{value:"hidden",label:"hidden"},{value:"initial",label:"initial"},{value:"visible",label:"visible"}],boxSizingoptions:[{value:"content-box",label:"content-box"},{value:"border-box",label:"border-box"}],directionoptions:[{value:"left",label:"left"},{value:"right",label:"right"},{value:"top",label:"top"},{value:"bottom",label:"bottom"}],verticalAlignoptions:[{value:"baseline",label:"baseline"},{value:"bottom",label:"bottom"},{value:"initial",label:"initial"},{value:"middle",label:"middle"},{value:"sub",label:"sub"},{value:"text-bottom",label:"text-bottom"},{value:"text-top",label:"text-top"},{value:"top",label:"top"},{value:"unset",label:"unset"}],border:[{name:"left",width:"1px",color:"#000",style:"solid"},{name:"right",width:"1px",color:"#000",style:"solid"},{name:"top",width:"1px",color:"#000",style:"solid"},{name:"bottom",width:"1px",color:"#000",style:"solid"}],borderStyleOptions:[{name:"none",value:"none"},{name:"dotted",value:"dotted"},{name:"dashed",value:"dashed"},{name:"solid",value:"solid"},{name:"double",value:"double"},{name:"groove",value:"groove"},{name:"ridge",value:"ridge"},{name:"inset",value:"inset"},{name:"outset",value:"outset"},{name:"inherit",value:"inherit"}],borderRadius:[{name:"top-left",value:"0px"},{name:"top-right",value:"0px"},{name:"bottom-left",value:"0px"},{name:"bottom-right",value:"0px"}]}},computed:{active:function(){return this.components.active[0]||null},style:function(){return this.active?this.active.style:{}},rawData:function(){return this.active?this.active.raw:{}},borderStyle:function(){return Object(o["a"])({border:0},this.border.reduce(function(e,t){return e["border-".concat(t.name)]="".concat(t.width," ").concat(t.color," ").concat(t.style),e},{}),this.borderRadius.reduce(function(e,t){return e["border-".concat(t.name,"-radius")]="".concat(t.value),e},{}))}},created:function(){L.created()},mounted:function(){L.mounted()},methods:{borderChange:function(){this.components.active[0]&&this.components.active[0].saveStyle(this.borderStyle)},deleteActive:function(){this.components.deleteActive()}},watch:{borderStyle:function(e){this.borderChange()}},components:{RawControl:E}},J=z,R=(n("c268"),Object(A["a"])(J,l,a,!1,null,null,null));t["a"]=R.exports},"9c35":function(e,t,n){"use strict";var l=n("f85d"),a=n.n(l);a.a},a21f:function(e,t,n){var l=n("584a"),a=l.JSON||(l.JSON={stringify:JSON.stringify});e.exports=function(e){return a.stringify.apply(a,arguments)}},a5c7:function(e,t,n){"use strict";var l=n("23b5"),a=n.n(l);a.a},a6ff:function(e,t,n){"use strict";var l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ele"},[n("el-row",e._l(e.ele.list,function(e,t){return n("el-col",{key:"ele"+t,attrs:{span:24}},[n("DragCol",{attrs:{item:e}})],1)}),1)],1)},a=[],o=n("cebc"),i=n("bef1"),r=n("4aca"),s={name:"Ele",data:function(){return{ele:r["b"]}},created:function(){r["a"].created()},mounted:function(){r["a"].mounted()},components:Object(o["a"])({},r["b"].comps,{DragCol:i["a"]})},c=s,u=n("2877"),d=Object(u["a"])(c,l,a,!1,null,null,null);t["a"]=d.exports},a966:function(e,t,n){"use strict";var l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"upload"},[n("el-upload",{attrs:{action:e.actionUrl,"show-file-list":!1,"on-success":e.handleAvatarSuccess,data:e.data}},[e._v("\n    上传文件\n  ")])],1)},a=[],o=n("d225"),i=n("b0b4"),r=n("308d"),s=n("6bb5"),c=n("4e2b"),u=n("34b0"),d=function(e){function t(){return Object(o["a"])(this,t),Object(r["a"])(this,Object(s["a"])(t).call(this,"uploadComp"))}return Object(c["a"])(t,e),Object(i["a"])(t,[{key:"init",value:function(){console.log("Upload init")}}]),t}(u["DataHandle"]),p=new d,v=new u["Handle"]({name:"uploadComp",created:function(){p.init(),console.log("upload created")},mounted:function(){console.log("upload mounted")}}),f=v,m={name:"Upload",data:function(){return{action:"/uploadFile/img",upload:p}},props:["url","data"],computed:{actionUrl:function(){return this.url||this.action}},created:function(){f.created()},mounted:function(){f.mounted()},methods:{handleAvatarSuccess:function(e){console.log(e),this.$emit("uploadChange",e)}}},b=m,h=n("2877"),y=Object(h["a"])(b,l,a,!1,null,null,null);t["a"]=y.exports},bb28:function(e,t,n){"use strict";var l=n("4947"),a=n.n(l);a.a},bd66:function(e,t,n){"use strict";var l=n("04b8"),a=n.n(l);a.a},bef1:function(e,t,n){"use strict";var l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dragCol",attrs:{draggable:"true"},on:{dragstart:function(t){return e.dragstartHandler(t,e.item)},click:function(t){return e.addItemToStage(t,e.item)}}},[e._v(e._s(e.item.name||e.item.type)+"\n")])},a=[],o=n("f499"),i=n.n(o),r=n("0749"),s=n("d225"),c=n("b0b4"),u=n("308d"),d=n("6bb5"),p=n("4e2b"),v=n("34b0"),f=function(e){function t(){return Object(s["a"])(this,t),Object(u["a"])(this,Object(d["a"])(t).call(this,"dragColComp"))}return Object(p["a"])(t,e),Object(c["a"])(t,[{key:"init",value:function(){console.log("DragCol init")}}]),t}(v["DataHandle"]),m=new f,b=new v["Handle"]({name:"dragColComp",created:function(){m.init(),console.log("dragCol created")},mounted:function(){console.log("dragCol mounted")}}),h=b,y={name:"DragCol",data:function(){return{dragCol:m}},props:["item"],created:function(){h.created()},mounted:function(){h.mounted()},methods:{addItemToStage:function(e,t){r["a"].register(t)},dragstartHandler:function(e,t){e.dataTransfer.dropEffect="copy",e.dataTransfer.effectAllowed="all",e.dataTransfer.setData("text/plain",i()(t))}}},g=y,x=(n("41f1"),n("2877")),_=Object(x["a"])(g,l,a,!1,null,null,null);t["a"]=_.exports},c268:function(e,t,n){"use strict";var l=n("0a05"),a=n.n(l);a.a},cd1c:function(e,t,n){var l=n("e853");e.exports=function(e,t){return new(l(e))(t)}},e853:function(e,t,n){var l=n("d3f4"),a=n("1169"),o=n("2b4c")("species");e.exports=function(e){var t;return a(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!a(t.prototype)||(t=void 0),l(t)&&(t=t[o],null===t&&(t=void 0))),void 0===t?Array:t}},f499:function(e,t,n){e.exports=n("a21f")},f85d:function(e,t,n){}}]);